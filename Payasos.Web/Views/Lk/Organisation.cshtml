@inject UserManager<AppUser> _userManager
@using Microsoft.AspNetCore.Identity
@using Payasos.Core.Entities
@model Payasos.Core.ViewModels.LkViewModel

@{
    ViewData["Title"] = "Личный кабинет";
}
<div class=" mx-3 my-5 mt-7 container flex justify-center mx-auto flex flex-col w-full border-b border-gray-200 shadow">
<h1 class="text-lg">@Model.OrgName</h1>
<h3 class="text-lg">Пригласительный код: @Model.InviteCode</h3>

    @if ((await _userManager.GetUserAsync(User)).IsAdmin)
    {
        <a asp-action="Settings" asp-controller="Organisation" style="width: 230px; height: 30px" class=" my-5 border border-green-400 text-black hover:bg-green-600 hover:text-white rounded-md text-center text-lg">Изменить</a>
    }
    <a asp-action="Ask" asp-controller="Promotion" style="width: 230px; height: 30px" class=" my-5 border border-green-400 text-black hover:bg-green-600 hover:text-white rounded-md text-center text-lg">Попросить повышение</a>    
    <a asp-action="Requests" asp-controller="Promotion" style="width: 230px; height: 30px" class=" my-5 border border-green-400 text-black hover:bg-green-600 hover:text-white rounded-md text-center text-lg">Запросы на повышение</a>    
    
<table class=" mx-3 divide-y divide-gray-300" >
    <thead class="mt-5 ">
    <tr>
        <td class="text-center py-2 bg-neutral-700 text-base text-white">Имя</td>
        <td class="text-center py-2 bg-neutral-700 text-base text-white">Фамилия</td>
        <td class="text-center py-2 bg-neutral-700 text-base text-white">Отчество</td>
        <td class="text-center py-2 bg-neutral-700 text-base text-white">Роль</td>
        <td class="text-center py-2 bg-neutral-700 text-base text-white">Email</td>
        <td class="text-center py-2 bg-neutral-700 text-base text-white">Должность</td>
    </tr>
   </thead>
    <tbody class="  divide-y divide-gray-300">
    @foreach (var user in Model.Users)
    {
        <tr class="whitespace-nowrap">
            <td class="text-center py-2 px-2 text-neutral-800" fill="none">@user.FirstName</td>
            <td class="text-center py-2 px-2 text-neutral-800" fill="none">@user.LastName</td>
            <td class="text-center py-2 px-2 text-neutral-800" fill="none">@user.SecondName</td>
            <td class="text-center py-2 px-2 text-neutral-800" fill="none">@user.Role</td>
            <td class="text-center py-2 px-2 text-neutral-800" fill="none">@user.Email</td>
            <td class="text-center py-2 px-2 text-neutral-800" fill="none">@(user.IsAdmin ? "Руководитель" : "Сотрудник")</td>
        </tr>
    }
    </tbody>
</table>
</div>